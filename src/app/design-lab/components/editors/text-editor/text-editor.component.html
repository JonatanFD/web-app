<mat-card>
  <mat-card-header>
    <mat-card-title>Add Text</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div class="text-editor-container">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Text</mat-label>
        <input
          matInput
          [(ngModel)]="textProps.text"
          (ngModelChange)="textChanged()"
          placeholder="Enter your text"
        />
      </mat-form-field>

      <h4 class="section-title">Font Settings</h4>
      <div class="text-format-section">
        <mat-form-field appearance="outline">
          <mat-label>Font</mat-label>
          <mat-select
            [(ngModel)]="textProps.fontFamily"
            (ngModelChange)="textChanged()"
          >
            <mat-option value="Arial">Arial</mat-option>
            <mat-option value="Helvetica">Helvetica</mat-option>
            <mat-option value="Times New Roman">Times New Roman</mat-option>
            <mat-option value="Courier New">Courier New</mat-option>
            <mat-option value="Verdana">Verdana</mat-option>
            <mat-option value="Georgia">Georgia</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Size</mat-label>
          <mat-select
            [(ngModel)]="textProps.fontSize"
            (ngModelChange)="textChanged()"
          >
            <mat-option [value]="12">12</mat-option>
            <mat-option [value]="14">14</mat-option>
            <mat-option [value]="16">16</mat-option>
            <mat-option [value]="18">18</mat-option>
            <mat-option [value]="20">20</mat-option>
            <mat-option [value]="24">24</mat-option>
            <mat-option [value]="28">28</mat-option>
            <mat-option [value]="32">32</mat-option>
            <mat-option [value]="36">36</mat-option>
            <mat-option [value]="42">42</mat-option>
            <mat-option [value]="48">48</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="text-style-controls">
        <h4 class="section-title">Text Style</h4>
        <mat-button-toggle-group multiple aria-label="Text formatting options" class="format-toggle-group">
          <mat-button-toggle
            [checked]="textProps.fontWeight >= 700"
            (change)="toggleBold($event.source.checked)"
            matTooltip="Bold"
            class="format-toggle"
          >
            <mat-icon>format_bold</mat-icon>
          </mat-button-toggle>
          <mat-button-toggle
            [checked]="textProps.italic"
            (change)="toggleItalic($event.source.checked)"
            matTooltip="Italic"
            class="format-toggle"
          >
            <mat-icon>format_italic</mat-icon>
          </mat-button-toggle>
          <mat-button-toggle
            [checked]="textProps.underline"
            (change)="toggleUnderline($event.source.checked)"
            matTooltip="Underline"
            class="format-toggle"
          >
            <mat-icon>format_underlined</mat-icon>
          </mat-button-toggle>
        </mat-button-toggle-group>
      </div>

      <div class="color-picker">
        <label>Text Color:</label>
        <div class="color-options">
          <div
            *ngFor="let color of textColors"
            class="color-option"
            [style.background-color]="color"
            [class.selected]="textProps.color === color"
            (click)="selectColor(color)"
          ></div>
        </div>
      </div>
      <div class="add-text-button-container">
        <button
          mat-flat-button
          color="primary"
          (click)="addText()"
          [disabled]="!textProps.text.trim()"
        >
          <mat-icon>add</mat-icon>
          Add to Design
        </button>
      </div>
    </div>
  </mat-card-content>
</mat-card>
